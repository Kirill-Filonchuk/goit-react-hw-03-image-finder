{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","components/Button/Button.jsx","components/ImageGallery/ImageGallery.jsx","components/App/App.js","index.js"],"names":["module","exports","Searchbar","state","pixabeyToSearch","handlSearchChange","event","console","log","currentTarget","value","setState","toLowerCase","handleSabmit","preventDefault","trim","props","onSubmit","toast","error","position","POSITION","TOP_LEFT","className","s","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","webformatURL","tags","src","alt","ImageGalleryItemImage","Button","page","window","scrollTo","top","document","documentElement","scrollHeight","behavior","name","onClick","LoadMore","styleBtn","ImageGallery","pixData","isLoaded","prevProps","prevState","searchRequest","axios","get","then","res","myData","data","hits","push","length","lenGth","finally","Spiner","color","height","width","timeout","isNaN","map","prop","key","shortid","generate","injectStyle","App","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,aAAe,mCAAmC,OAAS,+B,mBCA7ED,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,sBAAwB,kD,mBCAxGD,EAAOC,QAAU,CAAC,OAAS,yB,4DCA3BD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,qC,8JCI3NC,E,4MACjBC,MAAQ,CACJC,gBAAgB,I,EAEpBC,kBAAoB,SAAAC,GAChBC,QAAQC,IAAI,oBAAoBF,EAAMG,cAAcC,OACpD,EAAKC,SAAS,CACdP,gBAAiBE,EAAMG,cAAcC,MAAME,iB,EAI/CC,aAAe,SAAAP,GACXA,EAAMQ,iBACNP,QAAQC,IAAI,WAAY,EAAKL,MAAMC,iBACO,KAAtC,EAAKD,MAAMC,gBAAgBW,QAO/B,EAAKC,MAAMC,SAAS,EAAKd,MAAMC,iBAC/B,EAAKO,SAAS,CAACP,gBAAgB,MAP3Bc,IAAMC,MAAM,sGAAuB,CAC5CC,SAAUF,IAAMG,SAASC,Y,4CAQxB,WACI,OACA,wBAAQC,UAAWC,IAAEtB,UAArB,SACA,uBAAMe,SAAUQ,KAAKZ,aAAcU,UAAWC,IAAEE,WAAhD,UACI,wBAAQC,KAAK,SAASJ,UAAWC,IAAEI,iBAAnC,SACI,sBAAML,UAAWC,IAAEK,sBAAnB,sBAGJ,uBACIN,UAAWC,IAAEM,gBACbH,KAAK,OACLI,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZvB,MAAOe,KAAKtB,MAAMC,gBAClB8B,SAAUT,KAAKpB,6B,GAvCQ8B,a,6GCHxB,SAASC,EAAT,GAAiD,IAAtBC,EAAqB,EAArBA,aAAcC,EAAO,EAAPA,KAGpD,OADF/B,QAAQC,IAAI6B,GAEP,oBAAId,UAAWC,IAAEY,iBAAjB,SACD,qBAAKG,IAAKF,EAAcG,IAAKF,EAAMf,UAAWC,IAAEiB,0B,qBCJjCC,E,4MACnBvC,MAAQ,CACRwC,KAAK,G,4CAcL,WAKE,OAJAC,OAAOC,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,WAIV,yBAAQvB,KAAK,SAASwB,KAAK,OAAOC,QAAS3B,KAAKT,MAAMqC,SAAU9B,UAAWC,IAAEkB,OAA7E,UAAqF,sBAAMnB,UAAWC,IAAE8B,SAAnB,uBAArF,W,GAvB8BnB,aCUfoB,E,4MACnBpD,MAAQ,CACNqD,QAAS,KACTC,UAAU,EACVd,KAAM,G,EAiDRU,SAAW,SAAA/C,GACTC,QAAQC,IAAI,EAAKL,MAAMwC,MACvBpC,QAAQC,IAAIF,EAAMG,cAAc0C,MAChC,EAAKxC,UAAS,iBAAO,CACnBgC,KAAM,EAAKxC,MAAMwC,KAAO,O,wDAlD5B,SAAmBe,EAAWC,GAAY,IAAD,OAGrCD,EAAUE,gBAAkBnC,KAAKT,MAAM4C,eACvCD,EAAUhB,OAASlB,KAAKtB,MAAMwC,OAGvBlB,KAAKT,MAAM4C,eACZF,EAAUE,gBAAkBnC,KAAKT,MAAM4C,eAEvCnC,KAAKd,SAAS,CACV6C,QAAS,KACTb,KAAM,IAGhBlB,KAAKd,SAAS,CAAE8C,UAAU,IAC1BlD,QAAQC,IAAI,0BAA2BkD,EAAUE,eACjDrD,QAAQC,IAAI,2BAA4BiB,KAAKT,MAAM4C,eAEnDC,IACGC,IADH,UA9BM,2BA8BN,cAEiBrC,KAAKT,MAAM4C,cAF5B,iBAEkDnC,KAAKtB,MAAMwC,KAF7D,gBA7BM,qCA6BN,yDAIGoB,MAAK,SAAAC,GACJ,IAAIC,EAASD,EAAIE,KAAKC,KAEtB,GADG,EAAKhE,MAAMqD,SAASS,EAAOG,KAAP,MAAAH,EAAM,YAAS,EAAK9D,MAAMqD,UAC9CS,EAAOI,OAAO,EACf,EAAK1D,UAAS,SAACR,GAAD,MACF,CACRqD,QAAS,aAHf,CASA,IAAMc,EAASL,EAAOI,OACtB9D,QAAQC,IAAI,OAAQyD,GACpB1D,QAAQC,IAAI,SAAU8D,GACtB,EAAK3D,SAAS,CACZ6C,QAASS,QAGZM,SAAQ,kBAAM,EAAK5D,SAAS,CAAE8C,UAAU,U,oBAY/C,WACE,MAA8BhC,KAAKtB,MAA3BqD,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,SAEjB,OACE,qCACGA,GACC,qBAAKlC,UAAWC,IAAEgD,OAAlB,SACE,cAAC,IAAD,CACE7C,KAAK,UACL8C,MAAM,UACNC,OAAQ,IACRC,MAAO,IACPC,QAAS,SAKbC,MAAMrB,IAAY,oIACnBA,GACC,oBAAIjC,UAAWC,IAAE+B,aAAjB,SACGC,EAAQsB,KAAI,SAAAC,GAAI,OACf,wBAAC3C,EAAD,2BAAsB2C,GAAtB,IAA4BC,IAAKC,IAAQC,mBAI9CL,MAAMrB,IACP,cAAC,EAAD,CAAQH,SAAU5B,KAAK4B,kB,GAvFWlB,aCK1CgD,wB,IA0CeC,E,4MAxCbjF,MAAQ,CAINyD,cAAe,I,EAQjB3C,SAAW,SAAA2C,GACTrD,QAAQC,IAAI,MAAOoD,GACnB,EAAKjD,SAAS,CAAEiD,kBAChBrD,QAAQC,IAAI,aAAc,EAAKL,MAAMyD,gB,uDAPvC,c,oBAUA,WACE,OACE,sBAAKrC,UAAU,YAAf,UAME,cAAC,EAAD,CAAWN,SAAUQ,KAAKR,WAC1B,cAAC,EAAD,CAAc2C,cAAenC,KAAKtB,MAAMyD,gBAOxC,cAAC,IAAD,CAAgByB,UAAW,a,GAnCjBlD,aCdlBmD,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFzC,SAAS0C,eAAe,W","file":"static/js/main.d6a2604b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3jtSi\",\"Spiner\":\"ImageGallery_Spiner__2xVJm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1sWUe\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2hqDj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__cpdI-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__25iy7\",\"SearchForm\":\"Searchbar_SearchForm__3bPB9\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2OwP2\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2eaKk\",\"SearchFormInput\":\"Searchbar_SearchFormInput__TMbhd\"};","import { Component } from \"react\";\r\nimport {toast } from 'react-toastify';\r\nimport s from './Searchbar.module.css'\r\n\r\n\r\nexport default class Searchbar extends Component {\r\n    state = {\r\n        pixabeyToSearch:'',\r\n    }\r\n    handlSearchChange = event => {\r\n        console.log('handlSearchChange',event.currentTarget.value);\r\n        this.setState({\r\n        pixabeyToSearch: event.currentTarget.value.toLowerCase()\r\n    })\r\n}\r\n\r\n    handleSabmit = event => {\r\n        event.preventDefault();\r\n        console.log('onSubmit', this.state.pixabeyToSearch);\r\n        if (this.state.pixabeyToSearch.trim() === '') {\r\n            toast.error(\"Введите Ваш запрос!\", {\r\n   position: toast.POSITION.TOP_LEFT\r\n })\r\n            return\r\n        }\r\n  \r\n        this.props.onSubmit(this.state.pixabeyToSearch)\r\n        this.setState({pixabeyToSearch:''})\r\n}\r\n    render() {\r\n        return (\r\n        <header className={s.Searchbar}>\r\n        <form onSubmit={this.handleSabmit} className={s.SearchForm}>\r\n            <button type=\"submit\" className={s.SearchFormButton}>\r\n                <span className={s.SearchFormButtonLabel}>Search</span>\r\n            </button>\r\n\r\n            <input\r\n                className={s.SearchFormInput}\r\n                type=\"text\"\r\n                autoComplete=\"off\"\r\n                autoFocus\r\n                placeholder=\"Search images and photos\"\r\n                value={this.state.pixabeyToSearch}\r\n                onChange={this.handlSearchChange}                    \r\n            />\r\n        </form>\r\n        </header>\r\n    )\r\n}\r\n}","import s from './ImageGalleryItem.module.css';\r\n\r\nexport default function ImageGalleryItem({webformatURL, tags}) {\r\n  // console.log({ ...prop });\r\n  console.log(webformatURL);\r\n    return (\r\n       <li className={s.ImageGalleryItem}>\r\n      <img src={webformatURL} alt={tags} className={s.ImageGalleryItemImage} />\r\n      </li>\r\n    )\r\n    \r\n}","import { Component } from \"react\";\r\nimport s from './Button.module.css';\r\n\r\nexport default class Button extends Component {\r\n  state = {\r\n  page:1\r\n}\r\n\r\n\r\n  // LoadBtn = event => {\r\n  //   // console.log(event.currentTarget.name);\r\n  //   this.props.LoadMore(this.state.page)\r\n  //   this.setState(() => ({\r\n  //     page: this.state + 1,\r\n  //   }));\r\n  // }\r\n  \r\n\r\n\r\n  render() {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n    return (\r\n    \r\n      <button type=\"button\" name=\"page\" onClick={this.props.LoadMore} className={s.Button}><span className={s.styleBtn}>Load more</span> </button>\r\n      \r\n    )\r\n    \r\n  }\r\n}","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport shortid from 'shortid';\r\nimport Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport s from './ImageGallery.module.css';\r\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\r\nimport Button from '../Button';\r\n\r\nconst URL = 'https://pixabay.com/api/';\r\nconst KEY = '22443315-0655a572bf532c2d4a9d9c050';\r\n// const page = '1';\r\n\r\nexport default class ImageGallery extends Component {\r\n  state = {\r\n    pixData: null,\r\n    isLoaded: false,\r\n    page: 1,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    // Обязательно делать проверки изменения стейта, && prevState.page !== this.state.pageпропса\r\n    if (\r\n      prevProps.searchRequest !== this.props.searchRequest ||\r\n      prevState.page !== this.state.page\r\n    ) {\r\n        if(\r\n            !this.props.searchRequest ||\r\n            prevProps.searchRequest !== this.props.searchRequest\r\n            ) {\r\n            this.setState({\r\n                pixData: null,\r\n                page: 1,\r\n              });           \r\n        }\r\n      this.setState({ isLoaded: true });\r\n      console.log('prevProps.searchRequest', prevProps.searchRequest);\r\n      console.log('this.props.searchRequest', this.props.searchRequest);\r\n\r\n      axios\r\n        .get(\r\n           `${URL}?q=${this.props.searchRequest}&page=${this.state.page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n        )\r\n        .then(res => {\r\n          let myData = res.data.hits;\r\n          if(this.state.pixData){myData.push(...this.state.pixData)}\r\n          if(myData.length<0){\r\n            this.setState((state) => (\r\n                state = {\r\n                pixData: null,\r\n                    // page: 1\r\n              }));\r\n              return\r\n          }\r\n        //   this.state.pixData? myData.push(this.state.pixData): myData;\r\n          const lenGth = myData.length;\r\n          console.log('data', myData);\r\n          console.log('lenGth', lenGth);\r\n          this.setState({\r\n            pixData: myData,\r\n          });\r\n        })\r\n        .finally(() => this.setState({ isLoaded: false }));\r\n    }\r\n  }\r\n  //Здесь? LoadMore ???\r\n  LoadMore = event => {\r\n    console.log(this.state.page);\r\n    console.log(event.currentTarget.name);\r\n    this.setState(() => ({\r\n      page: this.state.page + 1,\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    const { pixData, isLoaded } = this.state;\r\n\r\n    return (\r\n      <>\r\n        {isLoaded && (\r\n          <div className={s.Spiner}>\r\n            <Loader\r\n              type=\"Circles\"\r\n              color=\"#00BFFF\"\r\n              height={100}\r\n              width={100}\r\n              timeout={3000} //3 secs Grid\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        {!isNaN(pixData) && <h2>Введите Ваш запрос</h2>}\r\n        {pixData && (\r\n          <ul className={s.ImageGallery}>\r\n            {pixData.map(prop => (\r\n              <ImageGalleryItem {...prop} key={shortid.generate()} />\r\n            ))}\r\n          </ul>\r\n        )}\r\n        {isNaN(pixData) &&\r\n        <Button LoadMore={this.LoadMore} />\r\n  }\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import '../App/App.css';\nimport React, { Component } from 'react';\n// import axios from 'axios';\nimport { ToastContainer } from 'react-toastify';\nimport { injectStyle } from 'react-toastify/dist/inject-style';\nimport Searchbar from '../Searchbar';\nimport ImageGallery from '../ImageGallery';\n// import Button from '../Button';\n// import shortid from 'shortid';\n\n////////////////\n// ОТСЛЕЖИВАТЬ\n// id - уникальный идентификатор\n// webformatURL - ссылка на маленькое изображение для списка карточек\n// largeImageURL\n///////////\n\n//////////////\ninjectStyle();\nclass App extends Component {\n  state = {\n    // status: 'idle',\n    // error: null,\n\n    searchRequest: '',\n    // Запрос с Сабмита формы и далее проброс-ПРОПОМ в Searchbar\n  };\n  //look for the ansver from API if 0 - then 'ничегоне нашли' кнопка ЛОАД-МОРЕ НЕ рендерить. Если пустая строка, то Рандомн картинки\n  componentDidMount() {\n    // this.setState({ isLoaded: true });\n  }\n\n  onSubmit = searchRequest => {\n    console.log('App', searchRequest);\n    this.setState({ searchRequest });\n    console.log('this.state', this.state.searchRequest);\n  };\n\n  render() {\n    return (\n      <div className=\"container\">\n        {/* {this.state.searchRequest && <h1>{this.state.searchRequest}</h1>}\n        <ul>\n          {this.state.searchRequest &&\n            this.state.searchRequesty.map((pix, index) => <li key={index}>{pix.user}</li>)}\n        </ul> */}\n        <Searchbar onSubmit={this.onSubmit} />\n        <ImageGallery searchRequest={this.state.searchRequest} />\n        {/* <Searchbar onSubmit={onSubmit} /> // Форма с локальным СТэйтом (где храним - пока набираем ИНПУТ)\n\n        <ImageGallery /> // наверное здесь и будет и Рендеринг и Запрос\n\n        <Button /> Где рендерить?*/}\n        {/* <Button /> */}\n        <ToastContainer autoClose={3000} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App.js';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}