(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{14:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__3jtSi",Spiner:"ImageGallery_Spiner__2xVJm"}},15:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1sWUe",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__2hqDj"}},16:function(e,t,a){e.exports={Button:"Button_Button__cpdI-"}},35:function(e,t,a){},36:function(e,t,a){},8:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__25iy7",SearchForm:"Searchbar_SearchForm__3bPB9",SearchFormButton:"Searchbar_SearchFormButton__2OwP2",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__2eaKk",SearchFormInput:"Searchbar_SearchFormInput__TMbhd"}},86:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(11),o=a.n(c),s=(a(35),a(4)),i=a(5),l=a(7),h=a(6),u=(a(36),a(9)),p=a(29),m=a(8),b=a.n(m),g=a(1),j=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={pixabeyToSearch:""},e.handlSearchChange=function(t){console.log("handlSearchChange",t.currentTarget.value),e.setState({pixabeyToSearch:t.currentTarget.value.toLowerCase()})},e.handleSabmit=function(t){t.preventDefault(),console.log("onSubmit",e.state.pixabeyToSearch),""!==e.state.pixabeyToSearch.trim()?(e.props.onSubmit(e.state.pixabeyToSearch),e.setState({pixabeyToSearch:""})):u.b.error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0412\u0430\u0448 \u0437\u0430\u043f\u0440\u043e\u0441!",{position:u.b.POSITION.TOP_LEFT})},e}return Object(i.a)(a,[{key:"render",value:function(){return Object(g.jsx)("header",{className:b.a.Searchbar,children:Object(g.jsxs)("form",{onSubmit:this.handleSabmit,className:b.a.SearchForm,children:[Object(g.jsx)("button",{type:"submit",className:b.a.SearchFormButton,children:Object(g.jsx)("span",{className:b.a.SearchFormButtonLabel,children:"Search"})}),Object(g.jsx)("input",{className:b.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:this.state.pixabeyToSearch,onChange:this.handlSearchChange})]})})}}]),a}(r.Component),d=a(17),S=a(30),y=a(26),O=a.n(y),f=a(27),x=a.n(f),v=a(28),_=a.n(v),I=(a(85),a(14)),F=a.n(I),q=a(15),N=a.n(q);function R(e){var t=e.webformatURL,a=e.tags;return console.log(t),Object(g.jsx)("li",{className:N.a.ImageGalleryItem,children:Object(g.jsx)("img",{src:t,alt:a,className:N.a.ImageGalleryItemImage})})}var L=a(16),T=a.n(L),w=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={page:1},e}return Object(i.a)(a,[{key:"render",value:function(){return window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),Object(g.jsxs)("button",{type:"button",name:"page",onClick:this.props.LoadMore,className:T.a.Button,children:[Object(g.jsx)("span",{className:T.a.styleBtn,children:"Load more"})," "]})}}]),a}(r.Component),B=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={pixData:null,isLoaded:!1,page:1},e.LoadMore=function(t){console.log(e.state.page),console.log(t.currentTarget.name),e.setState((function(){return{page:e.state.page+1}}))},e}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this;e.searchRequest===this.props.searchRequest&&t.page===this.state.page||(this.props.searchRequest&&e.searchRequest===this.props.searchRequest||this.setState({pixData:null,page:1}),this.setState({isLoaded:!0}),console.log("prevProps.searchRequest",e.searchRequest),console.log("this.props.searchRequest",this.props.searchRequest),O.a.get("".concat("https://pixabay.com/api/","?q=").concat(this.props.searchRequest,"&page=").concat(this.state.page,"&key=").concat("22443315-0655a572bf532c2d4a9d9c050","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){var t=e.data.hits;if(a.state.pixData&&t.push.apply(t,Object(S.a)(a.state.pixData)),t.length<0)a.setState((function(e){return{pixData:null}}));else{var r=t.length;console.log("data",t),console.log("lenGth",r),a.setState({pixData:t})}})).finally((function(){return a.setState({isLoaded:!1})})))}},{key:"render",value:function(){var e=this.state,t=e.pixData,a=e.isLoaded;return Object(g.jsxs)(g.Fragment,{children:[a&&Object(g.jsx)("div",{className:F.a.Spiner,children:Object(g.jsx)(_.a,{type:"Circles",color:"#00BFFF",height:100,width:100,timeout:3e3})}),!isNaN(t)&&Object(g.jsx)("h2",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0412\u0430\u0448 \u0437\u0430\u043f\u0440\u043e\u0441"}),t&&Object(g.jsx)("ul",{className:F.a.ImageGallery,children:t.map((function(e){return Object(r.createElement)(R,Object(d.a)(Object(d.a)({},e),{},{key:x.a.generate()}))}))}),isNaN(t)&&Object(g.jsx)(w,{LoadMore:this.LoadMore})]})}}]),a}(r.Component);Object(p.injectStyle)();var G=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={searchRequest:""},e.onSubmit=function(t){console.log("App",t),e.setState({searchRequest:t}),console.log("this.state",e.state.searchRequest)},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(g.jsxs)("div",{className:"container",children:[Object(g.jsx)(j,{onSubmit:this.onSubmit}),Object(g.jsx)(B,{searchRequest:this.state.searchRequest}),Object(g.jsx)(u.a,{autoClose:3e3})]})}}]),a}(r.Component);o.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(G,{})}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.d6a2604b.chunk.js.map