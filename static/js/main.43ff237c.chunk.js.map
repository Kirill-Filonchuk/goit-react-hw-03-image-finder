{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.module.css","utils/pixApi.js","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/App/App.js","index.js"],"names":["module","exports","fetchPixData","searchRequest","page","console","log","axios","get","then","response","data","hits","Searchbar","state","pixabeyToSearch","handlSearchChange","event","currentTarget","value","setState","toLowerCase","handleSabmit","preventDefault","trim","props","onSubmit","toast","error","position","POSITION","TOP_LEFT","className","s","this","SearchForm","type","SearchFormButton","onClick","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","webformatURL","tags","src","alt","ImageGalleryItemImage","ImageGallery","map","ImageCart","key","shortid","generate","Button","LoadMore","window","scrollTo","top","document","documentElement","scrollHeight","behavior","name","styleBtn","injectStyle","App","pixData","isLoaded","isTherePix","options","pixApi","pix","prevState","length","catch","finally","prevProps","shouldRenderLoadMoreButton","color","height","width","timeout","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.43ff237c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1sWUe\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2hqDj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__cpdI-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3jtSi\",\"Spiner\":\"ImageGallery_Spiner__2xVJm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__25iy7\",\"SearchForm\":\"Searchbar_SearchForm__3bPB9\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2OwP2\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2eaKk\",\"SearchFormInput\":\"Searchbar_SearchFormInput__TMbhd\"};","import axios from 'axios';\r\n\r\nconst URL = 'https://pixabay.com/api/';\r\nconst KEY = '22443315-0655a572bf532c2d4a9d9c050';\r\n\r\nfunction fetchPixData({ searchRequest = '', page = 1 }) {\r\n  console.log({ searchRequest, page });\r\n  return axios\r\n    .get(\r\n      `${URL}?q=${searchRequest}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    )\r\n    .then(response => response.data.hits);\r\n}\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default { fetchPixData };\r\n","import { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport s from './Searchbar.module.css';\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    pixabeyToSearch: '',\r\n  };\r\n  handlSearchChange = event => {\r\n    console.log('handlSearchChange', event.currentTarget.value);\r\n    this.setState({\r\n      pixabeyToSearch: event.currentTarget.value.toLowerCase(),\r\n    });\r\n  };\r\n\r\n  handleSabmit = event => {\r\n    event.preventDefault();\r\n    \r\n    console.log('onSubmit', this.state.pixabeyToSearch);\r\n      if (this.state.pixabeyToSearch.trim() === '') {\r\n        toast.error('Введите Ваш запрос!', {\r\n          position: toast.POSITION.TOP_LEFT,\r\n        });\r\n        return;\r\n      }\r\n    this.props.onSubmit(this.state.pixabeyToSearch);\r\n    this.setState({ pixabeyToSearch: '' });\r\n  };\r\n  \r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form onSubmit={this.handleSabmit} className={s.SearchForm}>\r\n          <button\r\n            type=\"submit\"\r\n            className={s.SearchFormButton}\r\n            onClick={console.log('BTN - search')}\r\n          >\r\n            <span className={s.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.pixabeyToSearch}\r\n            onChange={this.handlSearchChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import s from './ImageGalleryItem.module.css';\r\n\r\nexport default function ImageGalleryItem({webformatURL, tags}) {\r\n  // console.log({ ...prop });\r\n  // console.log(webformatURL);\r\n    return (\r\n       <li className={s.ImageGalleryItem}>\r\n      <img src={webformatURL} alt={tags} className={s.ImageGalleryItemImage} />\r\n      </li>\r\n    )\r\n    \r\n}","import React from 'react';\r\n\r\nimport shortid from 'shortid';\r\nimport s from './ImageGallery.module.css';\r\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\r\n\r\nexport default function ImageGallery({ searchRequest }){\r\n\r\n  console.log('ImgGal', { searchRequest });\r\n    return (\r\n          <ul className={s.ImageGallery}>\r\n            {searchRequest.map(ImageCart => (\r\n              <ImageGalleryItem {...ImageCart} key={shortid.generate()} />\r\n            ))}\r\n          </ul>\r\n    \r\n    );\r\n  }\r\n","// import { Component } from \"react\";\r\nimport s from './Button.module.css';\r\n\r\nexport default function Button({ LoadMore }) {\r\n  window.scrollTo({\r\n    top: document.documentElement.scrollHeight,\r\n    behavior: 'smooth',\r\n  });\r\n  return (\r\n    <button type=\"button\" name=\"page\" onClick={LoadMore} className={s.Button}>\r\n      <span className={s.styleBtn}>Load more</span>{' '}\r\n    </button>\r\n  );\r\n}\r\n\r\n// export default class Button extends Component {\r\n\r\n//   render() {\r\n//     window.scrollTo({\r\n//       top: document.documentElement.scrollHeight,\r\n//       behavior: 'smooth',\r\n//     });\r\n//     return (\r\n\r\n//       <button type=\"button\" name=\"page\" onClick={this.props.LoadMore} className={s.Button}><span className={s.styleBtn}>Load more</span> </button>\r\n\r\n//     )\r\n\r\n//   }\r\n// }\r\n","import '../App/App.css';\nimport React, { Component } from 'react';\n\nimport { ToastContainer } from 'react-toastify';\nimport { injectStyle } from 'react-toastify/dist/inject-style';\nimport Loader from 'react-loader-spinner';\n\nimport pixApi from '../../utils/pixApi';\nimport Searchbar from '../Searchbar';\nimport ImageGallery from '../ImageGallery';\nimport Button from '../Button';\n\n//////////////\ninjectStyle();\n//////////////\n\nclass App extends Component {\n  state = {\n    pixData: [],\n    page: 1,\n    searchRequest: '',\n    isLoaded: false,\n    error: null,\n    isTherePix: false,\n  };\n  //look for the ansver from API if 0 - then 'ничего не нашли' кнопка ЛОАД-МОРЕ НЕ рендерить. Если пустая строка, то Рандомн картинки\n  componentDidMount() {\n    this.fetchPixData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchRequest !== this.state.searchRequest) {\n      this.fetchPixData();\n    }\n  }\n\n  fetchPixData = () => {\n    const { searchRequest, page } = this.state;\n    const options = { searchRequest, page };\n\n    this.setState({ isLoaded: true });\n\n    pixApi\n      .fetchPixData(options)\n      .then(pix => {\n        this.setState(prevState => ({\n          pixData: [...prevState.pixData, ...pix],\n          page: prevState.page + 1,\n        }));\n        console.log(pix.length);\n        pix.length < 1 ? this.setState({ isTherePix: true }) : this.setState({ isTherePix: false });\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoaded: false }));\n  };\n\n  onSubmit = searchRequest => {\n    console.log('App-', searchRequest);\n    this.setState({\n      searchRequest,\n      page: 1,\n      pixData: [],\n      error: null,\n    });\n    console.log('this.state -', this.state.searchRequest);\n  };\n\n  render() {\n    const { pixData, isLoaded, isTherePix, error } = this.state;\n    const shouldRenderLoadMoreButton = pixData.length > 0 && pixData.length > 11 && !isLoaded;\n    return (\n      <div className=\"container\">\n        <Searchbar onSubmit={this.onSubmit} />\n        <ImageGallery searchRequest={pixData} />\n        {error && <h1>Ошибка!!!</h1>}\n        {isTherePix && <h1>Картинок по Вашему запросу не найдено!</h1>}\n        {isLoaded && (\n          <div>\n            <Loader\n              type=\"Circles\"\n              color=\"#00BFFF\"\n              height={100}\n              width={100}\n              timeout={3000} //3 secs Grid\n            />\n          </div>\n        )}\n        {shouldRenderLoadMoreButton && <Button LoadMore={this.fetchPixData} />}\n        <ToastContainer autoClose={3000} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App.js';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}