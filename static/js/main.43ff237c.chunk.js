(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{14:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1sWUe",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__2hqDj"}},15:function(e,t,a){e.exports={Button:"Button_Button__cpdI-"}},29:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__3jtSi",Spiner:"ImageGallery_Spiner__2xVJm"}},35:function(e,t,a){},36:function(e,t,a){},4:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__25iy7",SearchForm:"Searchbar_SearchForm__3bPB9",SearchFormButton:"Searchbar_SearchFormButton__2OwP2",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__2eaKk",SearchFormInput:"Searchbar_SearchFormInput__TMbhd"}},85:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(7),o=a.n(c),s=(a(35),a(16)),i=a(8),h=a(9),l=a(11),u=a(10),m=(a(36),a(5)),b=a(30),p=a(26),g=a.n(p),j=a(27),d=a.n(j);var S={fetchPixData:function(e){var t=e.searchRequest,a=void 0===t?"":t,r=e.page,n=void 0===r?1:r;return console.log({searchRequest:a,page:n}),d.a.get("".concat("https://pixabay.com/api/","?q=").concat(a,"&page=").concat(n,"&key=").concat("22443315-0655a572bf532c2d4a9d9c050","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits}))}},x=a(4),f=a.n(x),y=a(1),O=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={pixabeyToSearch:""},e.handlSearchChange=function(t){console.log("handlSearchChange",t.currentTarget.value),e.setState({pixabeyToSearch:t.currentTarget.value.toLowerCase()})},e.handleSabmit=function(t){t.preventDefault(),console.log("onSubmit",e.state.pixabeyToSearch),""!==e.state.pixabeyToSearch.trim()?(e.props.onSubmit(e.state.pixabeyToSearch),e.setState({pixabeyToSearch:""})):m.b.error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0412\u0430\u0448 \u0437\u0430\u043f\u0440\u043e\u0441!",{position:m.b.POSITION.TOP_LEFT})},e}return Object(h.a)(a,[{key:"render",value:function(){return Object(y.jsx)("header",{className:f.a.Searchbar,children:Object(y.jsxs)("form",{onSubmit:this.handleSabmit,className:f.a.SearchForm,children:[Object(y.jsx)("button",{type:"submit",className:f.a.SearchFormButton,onClick:console.log("BTN - search"),children:Object(y.jsx)("span",{className:f.a.SearchFormButtonLabel,children:"Search"})}),Object(y.jsx)("input",{className:f.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:this.state.pixabeyToSearch,onChange:this.handlSearchChange})]})})}}]),a}(r.Component),_=a(17),I=a(28),v=a.n(I),T=a(29),F=a.n(T),B=a(14),D=a.n(B);function q(e){var t=e.webformatURL,a=e.tags;return Object(y.jsx)("li",{className:D.a.ImageGalleryItem,children:Object(y.jsx)("img",{src:t,alt:a,className:D.a.ImageGalleryItemImage})})}function G(e){var t=e.searchRequest;return console.log("ImgGal",{searchRequest:t}),Object(y.jsx)("ul",{className:F.a.ImageGallery,children:t.map((function(e){return Object(r.createElement)(q,Object(_.a)(Object(_.a)({},e),{},{key:v.a.generate()}))}))})}var P=a(15),L=a.n(P);function N(e){var t=e.LoadMore;return window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),Object(y.jsxs)("button",{type:"button",name:"page",onClick:t,className:L.a.Button,children:[Object(y.jsx)("span",{className:L.a.styleBtn,children:"Load more"})," "]})}Object(b.injectStyle)();var R=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={pixData:[],page:1,searchRequest:"",isLoaded:!1,error:null,isTherePix:!1},e.fetchPixData=function(){var t=e.state,a={searchRequest:t.searchRequest,page:t.page};e.setState({isLoaded:!0}),S.fetchPixData(a).then((function(t){e.setState((function(e){return{pixData:[].concat(Object(s.a)(e.pixData),Object(s.a)(t)),page:e.page+1}})),console.log(t.length),t.length<1?e.setState({isTherePix:!0}):e.setState({isTherePix:!1})})).catch((function(t){return e.setState({error:t})})).finally((function(){return e.setState({isLoaded:!1})}))},e.onSubmit=function(t){console.log("App-",t),e.setState({searchRequest:t,page:1,pixData:[],error:null}),console.log("this.state -",e.state.searchRequest)},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.fetchPixData()}},{key:"componentDidUpdate",value:function(e,t){t.searchRequest!==this.state.searchRequest&&this.fetchPixData()}},{key:"render",value:function(){var e=this.state,t=e.pixData,a=e.isLoaded,r=e.isTherePix,n=e.error,c=t.length>0&&t.length>11&&!a;return Object(y.jsxs)("div",{className:"container",children:[Object(y.jsx)(O,{onSubmit:this.onSubmit}),Object(y.jsx)(G,{searchRequest:t}),n&&Object(y.jsx)("h1",{children:"\u041e\u0448\u0438\u0431\u043a\u0430!!!"}),r&&Object(y.jsx)("h1",{children:"\u041a\u0430\u0440\u0442\u0438\u043d\u043e\u043a \u043f\u043e \u0412\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e!"}),a&&Object(y.jsx)("div",{children:Object(y.jsx)(g.a,{type:"Circles",color:"#00BFFF",height:100,width:100,timeout:3e3})}),c&&Object(y.jsx)(N,{LoadMore:this.fetchPixData}),Object(y.jsx)(m.a,{autoClose:3e3})]})}}]),a}(r.Component);o.a.render(Object(y.jsx)(n.a.StrictMode,{children:Object(y.jsx)(R,{})}),document.getElementById("root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.43ff237c.chunk.js.map