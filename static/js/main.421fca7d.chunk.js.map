{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","utils/pixApi.js","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/App/App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","URL","KEY","a","searchRequest","page","axios","get","response","data","hits","fetchPixData","Searchbar","state","pixabeyToSearch","handlSearchChange","event","setState","currentTarget","value","toLowerCase","handleSabmit","preventDefault","trim","props","onSubmit","toast","error","position","POSITION","TOP_LEFT","className","s","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","largeImageURL","webformatURL","tags","imgPastToModal","onClick","src","alt","ImageGalleryItemImage","ImageGallery","map","ImageCard","key","shortid","generate","Button","LoadMore","window","scrollTo","top","document","documentElement","scrollHeight","behavior","name","styleBtn","modalRoot","querySelector","Modal","hendleKeyDown","e","code","onClose","hendleClickBackdrope","target","addEventListener","removeEventListener","createPortal","Overlay","children","injectStyle","App","pixData","isLoaded","isTherePix","showModal","imgInModal","options","pixApi","then","pix","prevState","length","catch","finally","console","log","togleModal","img","prevProps","shouldRenderLoadMoreButton","color","height","width","timeout","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,sBAAwB,kD,mBCAxGD,EAAOC,QAAU,CAAC,OAAS,yB,mBCA3BD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,aAAe,qC,oPCC3BC,EAAM,2BACNC,EAAM,qC,4CAEZ,qCAAAC,EAAA,iEAA8BC,qBAA9B,MAA8C,GAA9C,MAAkDC,YAAlD,MAAyD,EAAzD,WAEyBC,IAAMC,IAAN,UAClBN,EADkB,cACTG,EADS,iBACaC,EADb,gBACyBH,EADzB,yDAFzB,cAEQM,EAFR,yBAKSA,EAASC,KAAKC,MALvB,4C,sBASe,OAAEC,a,oECVIC,E,4MACnBC,MAAQ,CACNC,gBAAiB,I,EAEnBC,kBAAoB,SAAAC,GAElB,EAAKC,SAAS,CACZH,gBAAiBE,EAAME,cAAcC,MAAMC,iB,EAI/CC,aAAe,SAAAL,GACbA,EAAMM,iBAGsC,KAAtC,EAAKT,MAAMC,gBAAgBS,QAMjC,EAAKC,MAAMC,SAAS,EAAKZ,MAAMC,iBAC/B,EAAKG,SAAS,CAAEH,gBAAiB,MAN7BY,IAAMC,MAAM,sGAAuB,CACjCC,SAAUF,IAAMG,SAASC,Y,4CAQjC,WACE,OACE,wBAAQC,UAAWC,IAAEpB,UAArB,SACE,uBAAMa,SAAUQ,KAAKZ,aAAcU,UAAWC,IAAEE,WAAhD,UACE,wBACEC,KAAK,SACLJ,UAAWC,IAAEI,iBAFf,SAKE,sBAAML,UAAWC,IAAEK,sBAAnB,sBAGF,uBACEN,UAAWC,IAAEM,gBACbH,KAAK,OACLI,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZtB,MAAOc,KAAKpB,MAAMC,gBAClB4B,SAAUT,KAAKlB,6B,GA5CY4B,a,2DCFxB,SAASC,EAAT,GAA+E,IAApDC,EAAmD,EAAnDA,cAAcC,EAAqC,EAArCA,aAAcC,EAAuB,EAAvBA,KAAMC,EAAiB,EAAjBA,eAKxE,OACE,oBAAIjB,UAAWC,IAAEY,iBAAkBK,QAAS,kBAAKD,EAAe,CAAEH,gBAAeE,UAAjF,SACA,qBAAKG,IAAKJ,EAAcK,IAAKJ,EAAMhB,UAAWC,IAAEoB,0BCHvC,SAASC,EAAT,GAAyD,IAAjCjD,EAAgC,EAAhCA,cAAe4C,EAAiB,EAAjBA,eAGlD,OACM,oBAAIjB,UAAWC,IAAEqB,aAAjB,SACGjD,EAAckD,KAAI,SAAAC,GAAS,OAC1B,wBAACX,EAAD,2BAAsBW,GAAtB,IAAiCP,eAAgBA,EAAgBQ,IAAKC,IAAQC,mB,qBCT7E,SAASC,EAAT,GAA+B,IAAbC,EAAY,EAAZA,SAK/B,OAJAC,OAAOC,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,WAGV,yBAAQhC,KAAK,SAASiC,KAAK,OAAOnB,QAASW,EAAU7B,UAAWC,IAAE2B,OAAlE,UACE,sBAAM5B,UAAWC,IAAEqC,SAAnB,uBAA8C,O,qBCN9CC,EAAYN,SAASO,cAAc,eAEpBC,E,4MAWnBC,cAAgB,SAAAC,GACC,WAAXA,EAAEC,MAEJ,EAAKnD,MAAMoD,W,EAIbC,qBAAuB,SAAAH,GACfA,EAAEI,SAAWJ,EAAExD,eAElB,EAAKM,MAAMoD,W,uDApBlB,WAEEf,OAAOkB,iBAAiB,UAAW9C,KAAKwC,iB,kCAG1C,WAEEZ,OAAOmB,oBAAoB,UAAW/C,KAAKwC,iB,oBAiB7C,WACE,OAAOQ,uBACL,qBAAKlD,UAAWC,IAAEkD,QAASjC,QAAShB,KAAK4C,qBAAzC,SACE,qBAAK9C,UAAWC,IAAEwC,MAAlB,SAA0BvC,KAAKT,MAAM2D,aAEvCb,O,GA9B6B3B,aCQnCyC,wB,IAiHeC,E,4MA7GbxE,MAAQ,CACNyE,QAAS,GACTjF,KAAM,EACND,cAAe,GACfmF,UAAU,EACV5D,MAAO,KACP6D,YAAY,EACZC,WAAW,EACXC,WAAY,I,EAad/E,aAAe,WACb,MAAgC,EAAKE,MAC/B8E,EAAU,CAAEvF,cADlB,EAAQA,cACyBC,KADjC,EAAuBA,MAGvB,EAAKY,SAAS,CAAEsE,UAAU,IAE1BK,EACGjF,aAAagF,GACbE,MAAK,SAAAC,GACJ,EAAK7E,UAAS,SAAA8E,GAAS,MAAK,CAC1BT,QAAQ,GAAD,mBAAMS,EAAUT,SAAhB,YAA4BQ,IACnCzF,KAAM0F,EAAU1F,KAAO,MAGzByF,EAAIE,OAAS,EAAI,EAAK/E,SAAS,CAAEuE,YAAY,IAAU,EAAKvE,SAAS,CAAEuE,YAAY,OAEpFS,OAAM,SAAAtE,GAAK,OAAI,EAAKV,SAAS,CAAEU,aAC/BuE,SAAQ,kBAAM,EAAKjF,SAAS,CAAEsE,UAAU,Q,EAG7C9D,SAAW,SAAArB,GACT+F,QAAQC,IAAI,OAAQhG,GACpB,EAAKa,SAAS,CACZb,gBACAC,KAAM,EACNiF,QAAS,GACT3D,MAAO,Q,EAKX0E,WAAa,WACX,EAAKpF,UAAS,kBAAoB,CAChCwE,WADY,EAAGA,e,EAKnBzC,eAAiB,SAAAsD,GAKf,EAAKrF,SAAS,CACZyE,WAAYY,IAEd,EAAKD,c,uDAvDP,WACEpE,KAAKtB,iB,gCAGP,SAAmB4F,EAAWR,GACxBA,EAAU3F,gBAAkB6B,KAAKpB,MAAMT,eACzC6B,KAAKtB,iB,oBAoDT,WACE,MAAiDsB,KAAKpB,MAA9CyE,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,SAAUC,EAA3B,EAA2BA,WAAY7D,EAAvC,EAAuCA,MACvC,EAAgCM,KAAKpB,MAAM6E,WAAnC7C,EAAR,EAAQA,cAAeE,EAAvB,EAAuBA,KACjByD,EAA6BlB,EAAQU,OAAS,GAAKV,EAAQU,OAAS,KAAOT,EACjF,OACE,sBAAKxD,UAAU,YAAf,UACGE,KAAKpB,MAAM4E,WACV,eAAC,EAAD,CAAOb,QAAS3C,KAAKoE,WAAYrD,eAAgBf,KAAKe,eAAtD,UACGf,KAAKpB,MAAM6E,YAAc,qBAAKxC,IAAKL,EAAeM,IAAKJ,IACxD,4BAAIA,IACJ,wBAAQZ,KAAK,SAASc,QAAShB,KAAKoE,WAApC,sBAQJ,cAAC,EAAD,CAAW5E,SAAUQ,KAAKR,WAC1B,cAAC4B,EAAD,CAAcjD,cAAekF,EAAStC,eAAgBf,KAAKe,iBAC1DrB,GAAS,yEACT6D,GAAc,wOACdD,GACC,qBAAKxD,UAAW,SAAhB,SACE,cAAC,IAAD,CACEI,KAAK,UACLsE,MAAM,UACNC,OAAQ,IACRC,MAAO,IACPC,QAAS,QAIdJ,GAA8B,cAAC7C,EAAD,CAAQC,SAAU3B,KAAKtB,eACtD,cAAC,IAAD,CAAgBkG,UAAW,a,GAxGjBlE,aCZlBmE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFhD,SAASiD,eAAe,U,kBCR1BlH,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,sC","file":"static/js/main.421fca7d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1sWUe\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2hqDj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__cpdI-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2aKdz\",\"Modal\":\"Modal_Modal__36h25\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3jtSi\"};","import axios from 'axios';\r\n\r\nconst URL = 'https://pixabay.com/api/';\r\nconst KEY = '22443315-0655a572bf532c2d4a9d9c050';\r\n\r\nasync function fetchPixData({ searchRequest = '', page = 1 }) {\r\n  // console.log({ searchRequest, page });\r\n  const response = await axios.get(\r\n    `${URL}?q=${searchRequest}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  );\r\n  return response.data.hits;\r\n}\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default { fetchPixData };\r\n\r\n// function fetchPixData({ searchRequest = '', page = 1 }) {\r\n//   console.log({ searchRequest, page });\r\n//   return axios\r\n//     .get(\r\n//       `${URL}?q=${searchRequest}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n//     )\r\n//     .then(response => response.data.hits);\r\n// }\r\n\r\n// // eslint-disable-next-line import/no-anonymous-default-export\r\n// export default { fetchPixData };\r\n","import { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport s from './Searchbar.module.css';\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    pixabeyToSearch: '',\r\n  };\r\n  handlSearchChange = event => {\r\n    // console.log('handlSearchChange', event.currentTarget.value);\r\n    this.setState({\r\n      pixabeyToSearch: event.currentTarget.value.toLowerCase(),\r\n    });\r\n  };\r\n\r\n  handleSabmit = event => {\r\n    event.preventDefault();\r\n    \r\n    // console.log('onSubmit', this.state.pixabeyToSearch);\r\n      if (this.state.pixabeyToSearch.trim() === '') {\r\n        toast.error('Введите Ваш запрос!', {\r\n          position: toast.POSITION.TOP_LEFT,\r\n        });\r\n        return;\r\n      }\r\n    this.props.onSubmit(this.state.pixabeyToSearch);\r\n    this.setState({ pixabeyToSearch: '' });\r\n  };\r\n  \r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form onSubmit={this.handleSabmit} className={s.SearchForm}>\r\n          <button\r\n            type=\"submit\"\r\n            className={s.SearchFormButton}\r\n            // onClick={console.log('BTN - search')}\r\n          >\r\n            <span className={s.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.pixabeyToSearch}\r\n            onChange={this.handlSearchChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import s from './ImageGalleryItem.module.css';\r\n\r\nexport default function ImageGalleryItem({largeImageURL,webformatURL, tags, imgPastToModal}) {\r\n  // console.log({ ...prop });\r\n  // console.log('modal', modal);\r\n  // console.log({ largeImageURL, tags });\r\n  // console.log('imgPastToModal', imgPastToModal);\r\n    return (\r\n      <li className={s.ImageGalleryItem} onClick={()=> imgPastToModal({ largeImageURL, tags })}>\r\n      <img src={webformatURL} alt={tags} className={s.ImageGalleryItemImage} />\r\n      </li>\r\n    )\r\n    \r\n}","import React from 'react';\r\n\r\nimport shortid from 'shortid';\r\nimport s from './ImageGallery.module.css';\r\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\r\n\r\nexport default function ImageGallery({ searchRequest, imgPastToModal }){\r\n// console.log('imgPastToModal', imgPastToModal);\r\n  // console.log('ImgGal', { searchRequest });\r\n    return (\r\n          <ul className={s.ImageGallery}>\r\n            {searchRequest.map(ImageCard => (\r\n              <ImageGalleryItem {...ImageCard} imgPastToModal={imgPastToModal} key={shortid.generate()} />\r\n            ))}\r\n          </ul>\r\n    \r\n    );\r\n  }\r\n\r\n\r\n  \r\n////////////////modal={this.imgPastToModal} imgPastToModal={this.imgPastToModal}\r\n// ОТСЛЕЖИВАТЬ\r\n// id - уникальный идентификатор\r\n// webformatURL - ссылка на маленькое изображение для списка карточек\r\n// largeImageURL\r\n///////////","// import { Component } from \"react\";\r\nimport s from './Button.module.css';\r\n\r\nexport default function Button({ LoadMore }) {\r\n  window.scrollTo({\r\n    top: document.documentElement.scrollHeight,\r\n    behavior: 'smooth',\r\n  });\r\n  return (\r\n    <button type=\"button\" name=\"page\" onClick={LoadMore} className={s.Button}>\r\n      <span className={s.styleBtn}>Load more</span>{' '}\r\n    </button>\r\n  );\r\n}\r\n\r\n// export default class Button extends Component {\r\n\r\n//   render() {\r\n//     window.scrollTo({\r\n//       top: document.documentElement.scrollHeight,\r\n//       behavior: 'smooth',\r\n//     });\r\n//     return (\r\n\r\n//       <button type=\"button\" name=\"page\" onClick={this.props.LoadMore} className={s.Button}><span className={s.styleBtn}>Load more</span> </button>\r\n\r\n//     )\r\n\r\n//   }\r\n// }\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    // console.log('componentDidMount');\r\n    window.addEventListener('keydown', this.hendleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    // console.log('componentWillUnmount');\r\n    window.removeEventListener('keydown', this.hendleKeyDown);\r\n  }\r\n\r\n  hendleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      // console.log('Turn On Escape');\r\n      this.props.onClose();\r\n    }\r\n    };\r\n    \r\n    hendleClickBackdrope = e => {\r\n        if (e.target === e.currentTarget) {\r\n        // console.log('click backgrope');\r\n         this.props.onClose();\r\n        }\r\n    }\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.hendleClickBackdrope}>\r\n        <div className={s.Modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n","import '../App/App.css';\nimport React, { Component } from 'react';\n\nimport { ToastContainer } from 'react-toastify';\nimport { injectStyle } from 'react-toastify/dist/inject-style';\nimport Loader from 'react-loader-spinner';\n\nimport pixApi from '../../utils/pixApi';\nimport Searchbar from '../Searchbar';\nimport ImageGallery from '../ImageGallery';\nimport Button from '../Button';\nimport Modal from '../Modal';\n\n//////////////\ninjectStyle();\n//////////////\n\nclass App extends Component {\n  state = {\n    pixData: [],\n    page: 1,\n    searchRequest: '',\n    isLoaded: false,\n    error: null,\n    isTherePix: false,\n    showModal: false,\n    imgInModal: '',\n  };\n  //look for the ansver from API if 0 - then 'ничего не нашли' кнопка ЛОАД-МОРЕ НЕ рендерить. Если пустая строка, то Рандомн картинки\n  componentDidMount() {\n    this.fetchPixData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchRequest !== this.state.searchRequest) {\n      this.fetchPixData();\n    }\n  }\n\n  fetchPixData = () => {\n    const { searchRequest, page } = this.state;\n    const options = { searchRequest, page };\n\n    this.setState({ isLoaded: true });\n\n    pixApi\n      .fetchPixData(options)\n      .then(pix => {\n        this.setState(prevState => ({\n          pixData: [...prevState.pixData, ...pix],\n          page: prevState.page + 1,\n        }));\n        // console.log(pix.length);\n        pix.length < 1 ? this.setState({ isTherePix: true }) : this.setState({ isTherePix: false });\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoaded: false }));\n  };\n\n  onSubmit = searchRequest => {\n    console.log('App-', searchRequest);\n    this.setState({\n      searchRequest,\n      page: 1,\n      pixData: [],\n      error: null,\n    });\n    // console.log('this.state -', this.state.searchRequest);\n  };\n\n  togleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  imgPastToModal = img => {\n    // const { largeImageURL, tags } = this.state.imgInModal;\n    // console.log('IMG in App', img);\n    // console.log('stateIMG', largeImageURL);\n    // console.log('stateTAGS', tags);\n    this.setState({\n      imgInModal: img,\n    });\n    this.togleModal();\n  };\n\n  render() {\n    const { pixData, isLoaded, isTherePix, error } = this.state;\n    const { largeImageURL, tags } = this.state.imgInModal;\n    const shouldRenderLoadMoreButton = pixData.length > 0 && pixData.length > 11 && !isLoaded;\n    return (\n      <div className=\"container\">\n        {this.state.showModal && (\n          <Modal onClose={this.togleModal} imgPastToModal={this.imgPastToModal}>\n            {this.state.imgInModal && <img src={largeImageURL} alt={tags} />}\n            <p>{tags}</p>\n            <button type=\"button\" onClick={this.togleModal}>\n              Close\n            </button>\n          </Modal>\n        )}\n        {/* <button type=\"button\" onClick={this.togleModal}>\n          hello\n        </button> */}\n        <Searchbar onSubmit={this.onSubmit} />\n        <ImageGallery searchRequest={pixData} imgPastToModal={this.imgPastToModal} />\n        {error && <h1>Ошибка!!!</h1>}\n        {isTherePix && <h1>Картинок по Вашему запросу не найдено!</h1>}\n        {isLoaded && (\n          <div className={'Spiner'}>\n            <Loader\n              type=\"Circles\"\n              color=\"#00BFFF\"\n              height={100}\n              width={100}\n              timeout={3000} //3 secs Grid\n            />\n          </div>\n        )}\n        {shouldRenderLoadMoreButton && <Button LoadMore={this.fetchPixData} />}\n        <ToastContainer autoClose={3000} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App.js';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__25iy7\",\"SearchForm\":\"Searchbar_SearchForm__3bPB9\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2OwP2\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2eaKk\",\"SearchFormInput\":\"Searchbar_SearchFormInput__TMbhd\"};"],"sourceRoot":""}